{"ast":null,"code":"// src/components/cards/Categories.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import ProductService from'../../services/ProductService';// import jean from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Categories(_ref){let{onAddToCart}=_ref;const productImage={Jeans:\"./images/Jeans.jpg\",Tops:\"./images/Tops.jpg\",Shirt:\"./images/Shirts.jpg\",Trouserds:\"./images/Trousers.jpg\",FlaredDresses:\"./images/FlaredDresses.jpg\",Jumpsuits:\"./images/Jumpsuits.jpg\",Sunscreen:\"./images/Sunscreen.jpg\",FaceWash:\"./images/FaceWash.webp\",Slippers:\"./images/Slippers.webp\",Earrings:\"./images/Earrings.webp\",Necklace:\"./images/Necklace.webp\",Sneakers:\"./images/Sneakers.webp\",Palazzos:\"./images/Palazzos.jpg\",NightSuit:\"./images/NightSuit.webp\",KurtaSet:\"./images/KurtaSet.webp\",Sneaker:\"./images/Sneaker.webp\",TShirts:\"./images/T-Shirts.webp\",DenimJeans:\"./images/DenimJeans.webp\",CargoShorts:\"./images/CargoShorts.webp\",Watch:\"./images/Watch.webp\",Swimwear:\"./images/Swimwear.webp\",Jacket:\"./images/Jacket.webp\",Shoes:\"./images/Shoes.webp\",NecklaceSet:\"./images/NecklaceSet.webp\",Bracelet:\"./images/Bracelet.webp\",MilkyFaceCream:\"./images/MilkyFaceCream.webp\",KidsWatch:\"./images/KidsWatch.webp\",Foundation:\"./images/Foundation.webp\",MakeupBrushes:\"./images/MakeupBrushes.webp\",Primer:\"./images/Primer.jpg\",MakeupBrushes:\"./images/MakeupBrushes.webp\",Shampoo:\"./images/Shampoo.webp\",Eyeliner:\"./images/Eyeliner.webp\",LipBalm:\"./images/LipBalm.webp\",FacePower:\"./images/FacePower.webp\"};const[categories,setCategories]=useState([]);const[selectedCategory,setSelectedCategory]=useState(null);const[products,setProducts]=useState([]);useEffect(()=>{const fetchCategories=async()=>{const token=localStorage.getItem(\"token\");try{const response=await axios.get(\"http://localhost:5144/Category\",{headers:{Authorization:\"Bearer \".concat(token)}});setCategories(response.data);}catch(error){console.error(\"Failed to fetch categories:\",error);}};fetchCategories();},[]);const handleCategoryClick=async categoryName=>{setSelectedCategory(categoryName);try{const response=await ProductService.getProductsByCategory(categoryName);setProducts(response.data);}catch(error){console.error(\"Failed to fetch products:\",error);setProducts([]);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:categories.map(category=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary w-100\",onClick:()=>handleCategoryClick(category.name),children:category.name})},category.categoryId))}),selectedCategory&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Products in \\\"\",selectedCategory,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.length>0?products.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:productImage[product.productName]||\"./images/Sunscreen.jpg\",alt:\"Product\",className:\"card-img-top\",style:{height:'200px',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"card-title\",children:product.productName}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:product.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text text-success\",children:[\"Rs. \",product.price,\"/-\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary mt-auto\",onClick:()=>{onAddToCart(product);alert(\"Product added to cart!\");},children:\"Add to Cart\"})]})]})},product.productId)):/*#__PURE__*/_jsx(\"p\",{children:\"No products found in this category.\"})})]})]});}export default Categories;","map":{"version":3,"names":["React","useState","useEffect","axios","ProductService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Categories","_ref","onAddToCart","productImage","Jeans","Tops","Shirt","Trouserds","FlaredDresses","Jumpsuits","Sunscreen","FaceWash","Slippers","Earrings","Necklace","Sneakers","Palazzos","NightSuit","KurtaSet","Sneaker","TShirts","DenimJeans","CargoShorts","Watch","Swimwear","Jacket","Shoes","NecklaceSet","Bracelet","MilkyFaceCream","KidsWatch","Foundation","MakeupBrushes","Primer","Shampoo","Eyeliner","LipBalm","FacePower","categories","setCategories","selectedCategory","setSelectedCategory","products","setProducts","fetchCategories","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","handleCategoryClick","categoryName","getProductsByCategory","className","children","map","category","onClick","name","categoryId","length","product","src","productName","alt","style","height","objectFit","description","price","alert","productId"],"sources":["/workspaces/ECommerceWebApi_React/react-client-app-for-api/src/components/cards/Categories.js"],"sourcesContent":["// src/components/cards/Categories.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProductService from '../../services/ProductService';\n// import jean from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\n// import myImage from \"../../images/Jeans.jpg4\";\n\n\nfunction Categories({ onAddToCart }) {\n\n  const productImage = {\n    Jeans: \"./images/Jeans.jpg\",\n    Tops:\"./images/Tops.jpg\",\n      Shirt:\"./images/Shirts.jpg\",\n      Trouserds:\"./images/Trousers.jpg\",\n      FlaredDresses:\"./images/FlaredDresses.jpg\",\n      Jumpsuits:\"./images/Jumpsuits.jpg\",\n      Sunscreen:\"./images/Sunscreen.jpg\",\n      FaceWash:\"./images/FaceWash.webp\",\n      Slippers:\"./images/Slippers.webp\",\n      Earrings:\"./images/Earrings.webp\",\n      Necklace:\"./images/Necklace.webp\",\n      Sneakers:\"./images/Sneakers.webp\",\n      Palazzos:\"./images/Palazzos.jpg\",\n      NightSuit:\"./images/NightSuit.webp\",\n      KurtaSet :\"./images/KurtaSet.webp\",\n      Sneaker :\"./images/Sneaker.webp\",\n      TShirts :\"./images/T-Shirts.webp\",\n      DenimJeans :\"./images/DenimJeans.webp\",\n      CargoShorts :\"./images/CargoShorts.webp\",\n      Watch :\"./images/Watch.webp\",\n      Swimwear:\"./images/Swimwear.webp\",\n      Jacket :\"./images/Jacket.webp\",\n      Shoes :\"./images/Shoes.webp\",\n      NecklaceSet :\"./images/NecklaceSet.webp\",\n      Bracelet :\"./images/Bracelet.webp\",\n      MilkyFaceCream :\"./images/MilkyFaceCream.webp\",\n      KidsWatch :\"./images/KidsWatch.webp\",\n      Foundation :\"./images/Foundation.webp\",\n      MakeupBrushes :\"./images/MakeupBrushes.webp\",\n      Primer:\"./images/Primer.jpg\",\n      MakeupBrushes :\"./images/MakeupBrushes.webp\",\n      Shampoo:\"./images/Shampoo.webp\",\n      Eyeliner:\"./images/Eyeliner.webp\",\n      LipBalm:\"./images/LipBalm.webp\",\n      FacePower:\"./images/FacePower.webp\",\n      \n     \n  }\n\n\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const token = localStorage.getItem(\"token\");\n      try {\n        const response = await axios.get(\"http://localhost:5144/Category\", {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        setCategories(response.data);\n      } catch (error) {\n        console.error(\"Failed to fetch categories:\", error);\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  const handleCategoryClick = async (categoryName) => {\n    setSelectedCategory(categoryName);\n    try {\n      const response = await ProductService.getProductsByCategory(categoryName);\n      setProducts(response.data);\n    } catch (error) {\n      console.error(\"Failed to fetch products:\", error);\n      setProducts([]);\n    }\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h4>Categories</h4>\n      <div className=\"row mb-4\">\n        {categories.map((category) => (\n          <div className=\"col-md-3 mb-2\" key={category.categoryId}>\n            <button\n              className=\"btn btn-outline-primary w-100\"\n              onClick={() => handleCategoryClick(category.name)}\n            >\n              {category.name}\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {selectedCategory && (\n        <>\n          <h5>Products in \"{selectedCategory}\"</h5>\n          <div className=\"row\">\n            {products.length > 0 ? (\n              products.map((product) => (\n                <div key={product.productId} className=\"col-md-3 mb-3\">\n                  <div className=\"card h-100\">\n                    <img\n                      src={productImage[product.productName] ||\"./images/Sunscreen.jpg\"}\n                      alt=\"Product\"\n                      className=\"card-img-top\"\n                      style={{ height: '200px', objectFit: 'cover' }}\n                    />\n                    <div className=\"card-body d-flex flex-column\">\n                      <h6 className=\"card-title\">{product.productName}</h6>\n                      <p className=\"card-text\">{product.description}</p>\n                      <p className=\"card-text text-success\">Rs. {product.price}/-</p>\n                      <button\n                        className=\"btn btn-sm btn-primary mt-auto\"\n                        onClick={() => {\n                          onAddToCart(product);\n                          alert(\"Product added to cart!\");\n                        }}\n                      >\n                        Add to Cart\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <p>No products found in this category.</p>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Categories;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}