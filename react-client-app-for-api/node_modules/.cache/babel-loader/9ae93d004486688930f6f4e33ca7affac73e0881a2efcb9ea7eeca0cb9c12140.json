{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\2419406\\\\Downloads\\\\react-client-app-for-api\\\\src\\\\components\\\\Welcome.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Welcome = () => {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [showProfile, setShowProfile] = useState(false);\n\n  // Get data from localStorage\n  const email = localStorage.getItem('email');\n  const role = localStorage.getItem('role');\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    // Check if email is present\n    if (!email || !role || !token) {\n      alert(\"Login information missing. Please login again.\");\n      localStorage.clear();\n      window.location.href = '/login';\n      return;\n    }\n    const fetchProfile = async () => {\n      try {\n        const url = role === 'Admin' ? `http://localhost:5144/Admin/Profile?email=${email}` : `http://localhost:5144/User/Profile?email=${email}`;\n        const response = await axios.get(url, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setProfile(response.data);\n      } catch (error) {\n        console.error(\"Profile fetch failed:\", error);\n        alert(\"Failed to load profile. Please try again later.\");\n      }\n    };\n    fetchProfile();\n  }, [email, role, token]);\n  const handleLogout = () => {\n    localStorage.clear();\n    window.location.href = '/login';\n  };\n  const toggleProfile = () => {\n    setShowProfile(!showProfile);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome, \", role]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.buttonContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleProfile,\n        style: styles.button,\n        children: showProfile ? 'Hide Profile' : 'Show Profile'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        style: styles.button,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), showProfile && profile && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.profileCard,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Profile Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 14\n        }, this), \" \", profile.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 14\n        }, this), \" \", profile.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }, this), \" \", role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n// Some basic styles\n_s(Welcome, \"Z5lBsWJeXAoqGGOi8a3eIlcoueM=\");\n_c = Welcome;\nconst styles = {\n  container: {\n    textAlign: 'center',\n    padding: '40px',\n    fontFamily: 'Arial, sans-serif'\n  },\n  buttonContainer: {\n    margin: '20px'\n  },\n  button: {\n    padding: '10px 20px',\n    margin: '10px',\n    fontSize: '16px',\n    cursor: 'pointer'\n  },\n  profileCard: {\n    marginTop: '30px',\n    padding: '20px',\n    border: '1px solid #ccc',\n    display: 'inline-block',\n    backgroundColor: '#f9f9f9',\n    borderRadius: '10px',\n    boxShadow: '0px 0px 10px rgba(0,0,0,0.1)'\n  }\n};\nexport default Welcome;\nvar _c;\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Welcome","_s","profile","setProfile","showProfile","setShowProfile","email","localStorage","getItem","role","token","alert","clear","window","location","href","fetchProfile","url","response","get","headers","Authorization","data","error","console","handleLogout","toggleProfile","style","styles","container","children","fileName","_jsxFileName","lineNumber","columnNumber","buttonContainer","onClick","button","profileCard","name","_c","textAlign","padding","fontFamily","margin","fontSize","cursor","marginTop","border","display","backgroundColor","borderRadius","boxShadow","$RefreshReg$"],"sources":["C:/Users/2419406/Downloads/react-client-app-for-api/src/components/Welcome.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Welcome = () => {\r\n  const [profile, setProfile] = useState(null);\r\n  const [showProfile, setShowProfile] = useState(false);\r\n\r\n  // Get data from localStorage\r\n  const email = localStorage.getItem('email');\r\n  const role = localStorage.getItem('role');\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    // Check if email is present\r\n    if (!email || !role || !token) {\r\n      alert(\"Login information missing. Please login again.\");\r\n      localStorage.clear();\r\n      window.location.href = '/login';\r\n      return;\r\n    }\r\n\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const url =\r\n          role === 'Admin'\r\n            ? `http://localhost:5144/Admin/Profile?email=${email}`\r\n            : `http://localhost:5144/User/Profile?email=${email}`;\r\n\r\n        const response = await axios.get(url, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        setProfile(response.data);\r\n      } catch (error) {\r\n        console.error(\"Profile fetch failed:\", error);\r\n        alert(\"Failed to load profile. Please try again later.\");\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [email, role, token]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  const toggleProfile = () => {\r\n    setShowProfile(!showProfile);\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h1>Welcome, {role}</h1>\r\n\r\n      <div style={styles.buttonContainer}>\r\n        <button onClick={toggleProfile} style={styles.button}>\r\n          {showProfile ? 'Hide Profile' : 'Show Profile'}\r\n        </button>\r\n        <button onClick={handleLogout} style={styles.button}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n\r\n      {showProfile && profile && (\r\n        <div style={styles.profileCard}>\r\n          <h2>Profile Details</h2>\r\n          <p><strong>Name:</strong> {profile.name}</p>\r\n          <p><strong>Email:</strong> {profile.email}</p>\r\n          <p><strong>Role:</strong> {role}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Some basic styles\r\nconst styles = {\r\n  container: {\r\n    textAlign: 'center',\r\n    padding: '40px',\r\n    fontFamily: 'Arial, sans-serif',\r\n  },\r\n  buttonContainer: {\r\n    margin: '20px',\r\n  },\r\n  button: {\r\n    padding: '10px 20px',\r\n    margin: '10px',\r\n    fontSize: '16px',\r\n    cursor: 'pointer',\r\n  },\r\n  profileCard: {\r\n    marginTop: '30px',\r\n    padding: '20px',\r\n    border: '1px solid #ccc',\r\n    display: 'inline-block',\r\n    backgroundColor: '#f9f9f9',\r\n    borderRadius: '10px',\r\n    boxShadow: '0px 0px 10px rgba(0,0,0,0.1)',\r\n  },\r\n};\r\n\r\nexport default Welcome;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}